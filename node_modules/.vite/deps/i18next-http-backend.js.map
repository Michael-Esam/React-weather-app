{"version":3,"file":"i18next-http-backend.js","names":["_typeof","o","ownKeys","r","_objectSpread","_defineProperty","_toPropertyKey","_toPrimitive","_typeof","o","addQueryString","fetchIt","resolver","requestWithFetch","requestWithXmlHttpRequest","request","o","r","getDefaults","request","Backend","append"],"sources":["../../i18next-http-backend/esm/utils.js","../../i18next-http-backend/esm/request.js","../../i18next-http-backend/esm/index.js"],"sourcesContent":["function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nexport function defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\nexport function hasXMLHttpRequest() {\n  return typeof XMLHttpRequest === 'function' || (typeof XMLHttpRequest === \"undefined\" ? \"undefined\" : _typeof(XMLHttpRequest)) === 'object';\n}\nfunction isPromise(maybePromise) {\n  return !!maybePromise && typeof maybePromise.then === 'function';\n}\nexport function makePromise(maybePromise) {\n  if (isPromise(maybePromise)) {\n    return maybePromise;\n  }\n  return Promise.resolve(maybePromise);\n}","function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nimport { hasXMLHttpRequest } from './utils.js';\nvar fetchApi = typeof fetch === 'function' ? fetch : undefined;\nif (typeof global !== 'undefined' && global.fetch) {\n  fetchApi = global.fetch;\n} else if (typeof window !== 'undefined' && window.fetch) {\n  fetchApi = window.fetch;\n}\nvar XmlHttpRequestApi;\nif (hasXMLHttpRequest()) {\n  if (typeof global !== 'undefined' && global.XMLHttpRequest) {\n    XmlHttpRequestApi = global.XMLHttpRequest;\n  } else if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n    XmlHttpRequestApi = window.XMLHttpRequest;\n  }\n}\nvar ActiveXObjectApi;\nif (typeof ActiveXObject === 'function') {\n  if (typeof global !== 'undefined' && global.ActiveXObject) {\n    ActiveXObjectApi = global.ActiveXObject;\n  } else if (typeof window !== 'undefined' && window.ActiveXObject) {\n    ActiveXObjectApi = window.ActiveXObject;\n  }\n}\nif (typeof fetchApi !== 'function') fetchApi = undefined;\nif (!fetchApi && !XmlHttpRequestApi && !ActiveXObjectApi) {\n  try {\n    import('cross-fetch').then(function (mod) {\n      fetchApi = mod.default;\n    }).catch(function () {});\n  } catch (e) {}\n}\nvar addQueryString = function addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '';\n    for (var paramName in params) {\n      queryString += '&' + encodeURIComponent(paramName) + '=' + encodeURIComponent(params[paramName]);\n    }\n    if (!queryString) return url;\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n  return url;\n};\nvar fetchIt = function fetchIt(url, fetchOptions, callback, altFetch) {\n  var resolver = function resolver(response) {\n    if (!response.ok) return callback(response.statusText || 'Error', {\n      status: response.status\n    });\n    response.text().then(function (data) {\n      callback(null, {\n        status: response.status,\n        data: data\n      });\n    }).catch(callback);\n  };\n  if (altFetch) {\n    var altResponse = altFetch(url, fetchOptions);\n    if (altResponse instanceof Promise) {\n      altResponse.then(resolver).catch(callback);\n      return;\n    }\n  }\n  if (typeof fetch === 'function') {\n    fetch(url, fetchOptions).then(resolver).catch(callback);\n  } else {\n    fetchApi(url, fetchOptions).then(resolver).catch(callback);\n  }\n};\nvar omitFetchOptions = false;\nvar requestWithFetch = function requestWithFetch(options, url, payload, callback) {\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  var headers = _objectSpread({}, typeof options.customHeaders === 'function' ? options.customHeaders() : options.customHeaders);\n  if (typeof window === 'undefined' && typeof global !== 'undefined' && typeof global.process !== 'undefined' && global.process.versions && global.process.versions.node) {\n    headers['User-Agent'] = \"i18next-http-backend (node/\".concat(global.process.version, \"; \").concat(global.process.platform, \" \").concat(global.process.arch, \")\");\n  }\n  if (payload) headers['Content-Type'] = 'application/json';\n  var reqOptions = typeof options.requestOptions === 'function' ? options.requestOptions(payload) : options.requestOptions;\n  var fetchOptions = _objectSpread({\n    method: payload ? 'POST' : 'GET',\n    body: payload ? options.stringify(payload) : undefined,\n    headers: headers\n  }, omitFetchOptions ? {} : reqOptions);\n  var altFetch = typeof options.alternateFetch === 'function' && options.alternateFetch.length >= 1 ? options.alternateFetch : undefined;\n  try {\n    fetchIt(url, fetchOptions, callback, altFetch);\n  } catch (e) {\n    if (!reqOptions || Object.keys(reqOptions).length === 0 || !e.message || e.message.indexOf('not implemented') < 0) {\n      return callback(e);\n    }\n    try {\n      Object.keys(reqOptions).forEach(function (opt) {\n        delete fetchOptions[opt];\n      });\n      fetchIt(url, fetchOptions, callback, altFetch);\n      omitFetchOptions = true;\n    } catch (err) {\n      callback(err);\n    }\n  }\n};\nvar requestWithXmlHttpRequest = function requestWithXmlHttpRequest(options, url, payload, callback) {\n  if (payload && _typeof(payload) === 'object') {\n    payload = addQueryString('', payload).slice(1);\n  }\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  try {\n    var x = XmlHttpRequestApi ? new XmlHttpRequestApi() : new ActiveXObjectApi('MSXML2.XMLHTTP.3.0');\n    x.open(payload ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    x.withCredentials = !!options.withCredentials;\n    if (payload) {\n      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    if (x.overrideMimeType) {\n      x.overrideMimeType('application/json');\n    }\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback(x.status >= 400 ? x.statusText : null, {\n        status: x.status,\n        data: x.responseText\n      });\n    };\n    x.send(payload);\n  } catch (e) {\n    console && console.log(e);\n  }\n};\nvar request = function request(options, url, payload, callback) {\n  if (typeof payload === 'function') {\n    callback = payload;\n    payload = undefined;\n  }\n  callback = callback || function () {};\n  if (fetchApi && url.indexOf('file:') !== 0) {\n    return requestWithFetch(options, url, payload, callback);\n  }\n  if (hasXMLHttpRequest() || typeof ActiveXObject === 'function') {\n    return requestWithXmlHttpRequest(options, url, payload, callback);\n  }\n  callback(new Error('No fetch and no xhr implementation found!'));\n};\nexport default request;","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { makePromise } from './utils.js';\nimport request from './request.js';\nvar getDefaults = function getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    parse: function parse(data) {\n      return JSON.parse(data);\n    },\n    stringify: JSON.stringify,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    parseLoadPayload: function parseLoadPayload(languages, namespaces) {\n      return undefined;\n    },\n    request: request,\n    reloadInterval: typeof window !== 'undefined' ? false : 60 * 60 * 1000,\n    customHeaders: {},\n    queryStringParams: {},\n    crossDomain: false,\n    withCredentials: false,\n    overrideMimeType: false,\n    requestOptions: {\n      mode: 'cors',\n      credentials: 'same-origin',\n      cache: 'default'\n    }\n  };\n};\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, Backend);\n    this.services = services;\n    this.options = options;\n    this.allOptions = allOptions;\n    this.type = 'backend';\n    this.init(services, options, allOptions);\n  }\n  return _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), this.options || {}), options);\n      this.allOptions = allOptions;\n      if (this.services && this.options.reloadInterval) {\n        var timer = setInterval(function () {\n          return _this.reload();\n        }, this.options.reloadInterval);\n        if (_typeof(timer) === 'object' && typeof timer.unref === 'function') timer.unref();\n      }\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      this._readAny(languages, languages, namespaces, namespaces, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      this._readAny([language], language, [namespace], namespace, callback);\n    }\n  }, {\n    key: \"_readAny\",\n    value: function _readAny(languages, loadUrlLanguages, namespaces, loadUrlNamespaces, callback) {\n      var _this2 = this;\n      var loadPath = this.options.loadPath;\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n      loadPath = makePromise(loadPath);\n      loadPath.then(function (resolvedLoadPath) {\n        if (!resolvedLoadPath) return callback(null, {});\n        var url = _this2.services.interpolator.interpolate(resolvedLoadPath, {\n          lng: languages.join('+'),\n          ns: namespaces.join('+')\n        });\n        _this2.loadUrl(url, callback, loadUrlLanguages, loadUrlNamespaces);\n      });\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback, languages, namespaces) {\n      var _this3 = this;\n      var lng = typeof languages === 'string' ? [languages] : languages;\n      var ns = typeof namespaces === 'string' ? [namespaces] : namespaces;\n      var payload = this.options.parseLoadPayload(lng, ns);\n      this.options.request(this.options, url, payload, function (err, res) {\n        if (res && (res.status >= 500 && res.status < 600 || !res.status)) return callback('failed loading ' + url + '; status code: ' + res.status, true);\n        if (res && res.status >= 400 && res.status < 500) return callback('failed loading ' + url + '; status code: ' + res.status, false);\n        if (!res && err && err.message) {\n          var errorMessage = err.message.toLowerCase();\n          var isNetworkError = ['failed', 'fetch', 'network', 'load'].find(function (term) {\n            return errorMessage.indexOf(term) > -1;\n          });\n          if (isNetworkError) {\n            return callback('failed loading ' + url + ': ' + err.message, true);\n          }\n        }\n        if (err) return callback(err, false);\n        var ret, parseErr;\n        try {\n          if (typeof res.data === 'string') {\n            ret = _this3.options.parse(res.data, languages, namespaces);\n          } else {\n            ret = res.data;\n          }\n        } catch (e) {\n          parseErr = 'failed parsing ' + url + ' to json';\n        }\n        if (parseErr) return callback(parseErr, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue, callback) {\n      var _this4 = this;\n      if (!this.options.addPath) return;\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      var finished = 0;\n      var dataArray = [];\n      var resArray = [];\n      languages.forEach(function (lng) {\n        var addPath = _this4.options.addPath;\n        if (typeof _this4.options.addPath === 'function') {\n          addPath = _this4.options.addPath(lng, namespace);\n        }\n        var url = _this4.services.interpolator.interpolate(addPath, {\n          lng: lng,\n          ns: namespace\n        });\n        _this4.options.request(_this4.options, url, payload, function (data, res) {\n          finished += 1;\n          dataArray.push(data);\n          resArray.push(res);\n          if (finished === languages.length) {\n            if (typeof callback === 'function') callback(dataArray, resArray);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this5 = this;\n      var _this$services = this.services,\n        backendConnector = _this$services.backendConnector,\n        languageUtils = _this$services.languageUtils,\n        logger = _this$services.logger;\n      var currentLanguage = backendConnector.language;\n      if (currentLanguage && currentLanguage.toLowerCase() === 'cimode') return;\n      var toLoad = [];\n      var append = function append(lng) {\n        var lngs = languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      append(currentLanguage);\n      if (this.allOptions.preload) this.allOptions.preload.forEach(function (l) {\n        return append(l);\n      });\n      toLoad.forEach(function (lng) {\n        _this5.allOptions.ns.forEach(function (ns) {\n          backendConnector.read(lng, ns, 'read', null, null, function (err, data) {\n            if (err) logger.warn(\"loading namespace \".concat(ns, \" for language \").concat(lng, \" failed\"), err);\n            if (!err && data) logger.log(\"loaded namespace \".concat(ns, \" for language \").concat(lng), data);\n            backendConnector.loaded(\"\".concat(lng, \"|\").concat(ns), err, data);\n          });\n        });\n      });\n    }\n  }]);\n}();\nBackend.type = 'backend';\nexport default Backend;"],"mappings":"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"}